<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.15"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>GOG Galaxy: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">GOG Galaxy
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.15 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('index.html','');});
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#getting-started">Getting started</a></li>
<li class="level1"><a href="#client-credentials">Client credentials</a></li>
<li class="level1"><a href="#overview">Overview</a></li>
<li class="level1"><a href="#errors">Error handling</a></li>
<li class="level1"><a href="#listeners">Listeners</a></li>
<li class="level1"><a href="#authentication">Authentication</a></li>
<li class="level1"><a href="#matchmaking">Matchmaking</a></li>
<li class="level1"><a href="#lobbies">Lobbies</a><ul><li class="level2"><a href="#lobbies-messaging">Messaging</a></li>
</ul>
</li>
<li class="level1"><a href="#networking">P2P networking</a><ul><li class="level2"><a href="#networking-sending">Sending P2P packets</a></li>
<li class="level2"><a href="#networking-receiving">Receiving P2P packets</a></li>
</ul>
</li>
<li class="level1"><a href="#game-server">Game Server</a></li>
<li class="level1"><a href="#statistics">Statistics, achievements and leaderboards</a></li>
<li class="level1"><a href="#friends">Friends</a><ul><li class="level2"><a href="#invites">Inviting friends</a></li>
<li class="level2"><a href="#rich-presence">RichPresence</a></li>
</ul>
</li>
<li class="level1"><a href="#chat">Chat</a><ul><li class="level2"><a href="#chat-room">Chat room</a></li>
<li class="level2"><a href="#chat-history">Chat history</a></li>
<li class="level2"><a href="#chat-messaging">Sending and receiving chat messages</a></li>
</ul>
</li>
<li class="level1"><a href="#storage">Storage</a><ul><li class="level2"><a href="#automatic-cloud-saves-syncing">Automatic Cloud Saves syncing</a></li>
<li class="level2"><a href="#cloud-storage-direct-access">Cloud Storage direct access</a></li>
</ul>
</li>
<li class="level1"><a href="#dlc-discovery">DLC discovery</a></li>
<li class="level1"><a href="#language">Game language</a></li>
<li class="level1"><a href="#thread-safety">Thread-safety</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="getting-started"></a>
Getting started</h1>
<p>Developing a game with Galaxy needs to start from linking your application to the following libraries:</p><ul>
<li>Galaxy.lib or Galaxy64.lib on Windows</li>
<li>libGalaxy64.dylib on MacOSX</li>
</ul>
<p>All libraries are loaded dynamically, so they have to be placed in the same folder as your executable.</p>
<h1><a class="anchor" id="client-credentials"></a>
Client credentials</h1>
<p>In order to use the Galaxy API, you should request special client credentials from GOG.com for each game you develop. You will be provided with a pair of Client ID and Client Secret that are to be used when calling <a class="el" href="group__Peer.html#ga7d13610789657b6aebe0ba0aa542196f" title="Initializes the Galaxy Peer with specified credentials.">Init()</a>.</p>
<p>Client credentials identify your game within Galaxy. Only Galaxy Peers that use the same Client ID can interact with each other.</p>
<h1><a class="anchor" id="overview"></a>
Overview</h1>
<p>The Galaxy API is divided into multiple header files. You can either include only the header files with the data structures and interfaces you need, or simply include the file called <a class="el" href="GalaxyApi_8h.html" title="Includes all other files that are needed to work with the Galaxy library.">GalaxyApi.h</a> that includes all the other files.</p>
<p>You can control your Galaxy Peer through interfaces for specific feature sets, e.g. <a class="el" href="classgalaxy_1_1api_1_1IUser.html" title="The interface for handling the user account.">IUser</a>, <a class="el" href="classgalaxy_1_1api_1_1IMatchmaking.html" title="The interface for managing game lobbies.">IMatchmaking</a>, <a class="el" href="classgalaxy_1_1api_1_1INetworking.html" title="The interface for communicating with other Galaxy Peers.">INetworking</a>, <a class="el" href="classgalaxy_1_1api_1_1IFriends.html" title="The interface for managing social info and activities.">IFriends</a>, <a class="el" href="classgalaxy_1_1api_1_1IListenerRegistrar.html" title="The class that enables and disables global registration of the instances of specific listeners.">IListenerRegistrar</a>, <a class="el" href="classgalaxy_1_1api_1_1ILogger.html" title="The interface for logging.">ILogger</a>. They can be accessed with global functions called <a class="el" href="group__Peer.html#gae38960649548d817130298258e0c461a" title="Returns an instance of IUser.">User()</a>, <a class="el" href="group__Peer.html#ga4d96db1436295a3104a435b3afd4eeb8" title="Returns an instance of IMatchmaking.">Matchmaking()</a>, <a class="el" href="group__Peer.html#ga269daf0c541ae9d76f6a27f293804677" title="Returns an instance of INetworking that allows to communicate as a regular lobby member.">Networking()</a>, <a class="el" href="group__Peer.html#ga1f7ee19b74d0fd9db6703b2c35df7bf5" title="Returns an instance of IListenerRegistrar.">ListenerRegistrar()</a>, etc.</p>
<p>For every frame you should call <a class="el" href="group__Peer.html#ga1e437567d7fb43c9845809b22c567ca7" title="Makes the Galaxy Peer process its input and output streams.">ProcessData()</a> to process input and output streams.</p>
<h1><a class="anchor" id="errors"></a>
Error handling</h1>
<p>Error occured on call to Galaxy API can be obtain by calling <a class="el" href="group__api.html#ga11169dd939f560d09704770a1ba4612b" title="Retrieves error connected with the last API call on the local thread.">GetError()</a>, which returns NULL if there was no error. Every call to an API method resets last stored error, therefore you should check for errors after each call.</p>
<p>Global function ThrowIfGalaxyError() can translate errors to C++ exceptions. It calls <a class="el" href="group__api.html#ga11169dd939f560d09704770a1ba4612b" title="Retrieves error connected with the last API call on the local thread.">GetError()</a> and throws appropriate exception if there was an error during the last API call.</p>
<h1><a class="anchor" id="listeners"></a>
Listeners</h1>
<p>Since many method calls are asynchronous, there is a mechanism for receiving responses within a callback that is based on implementing special interfaces called listeners that derive from the <a class="el" href="classgalaxy_1_1api_1_1IGalaxyListener.html" title="The interface that is implemented by all specific callback listeners.">IGalaxyListener</a> interface.</p>
<p>There is two kind of listeners:</p><ul>
<li>Global listeners will receive notifications about all events of a specific type. Global listeners need to be registered in the <a class="el" href="classgalaxy_1_1api_1_1IListenerRegistrar.html" title="The class that enables and disables global registration of the instances of specific listeners.">IListenerRegistrar</a> in order to receive a notification via a callback when an event has occurred. For convenience, there is a basic implementation for each listener that registers and unregisters automatically.</li>
<li>Specific listeners will receive only notifications related to a specific function call. Subsequent function calls with the same specific listeners passed to a function will result in same listener be notified multiple times. Specific listeners are automatically registered when passed to a function and unregistered right after an event occurs. They might be unregistered at anytime.</li>
</ul>
<p>All listeners are called during the phase of processing data, i.e. during the call to <a class="el" href="group__Peer.html#ga1e437567d7fb43c9845809b22c567ca7" title="Makes the Galaxy Peer process its input and output streams.">ProcessData()</a>.</p>
<h1><a class="anchor" id="authentication"></a>
Authentication</h1>
<p>You need to authenticate the Galaxy Peer by signing in the user. To do that, you need to get an instance of <a class="el" href="classgalaxy_1_1api_1_1IUser.html" title="The interface for handling the user account.">IUser</a> interface and call one of IUser::SignIn...() methods, depending of your platform.</p>
<p>As with any other asynchronous call, you will get the information about the result of your request via a dedicated listener. For that to happen, you already need to call <a class="el" href="group__Peer.html#ga1e437567d7fb43c9845809b22c567ca7" title="Makes the Galaxy Peer process its input and output streams.">ProcessData()</a> in a loop as mentioned earlier.</p>
<p>In case of limited availability of Galaxy backend services it might happen that the user gets signed in within local Galaxy Service, yet still does not manage to log on to Galaxy backend services. In that case the Galaxy Peer offers only some of its functionality.</p>
<p>Having successfully signed in the user, you may want to check that the user is logged on to Galaxy backend services by calling <a class="el" href="classgalaxy_1_1api_1_1IUser.html#a3e373012e77fd2baf915062d9e0c05b3" title="Checks if the user is logged on to Galaxy backend services.">IUser::IsLoggedOn()</a>.</p>
<p>Information about being signed in or signed out, as well as information about being logged on or logged off, determine the operational state of Galaxy Peer and both come to the <a class="el" href="classgalaxy_1_1api_1_1IOperationalStateChangeListener.html" title="Listener for the event of a change of the operational state.">IOperationalStateChangeListener</a>.</p>
<h1><a class="anchor" id="matchmaking"></a>
Matchmaking</h1>
<p>To play a match with other users, the users needs to join them in a so called lobby. The user can either join an existing lobby or create one. All this is done with the <a class="el" href="classgalaxy_1_1api_1_1IMatchmaking.html" title="The interface for managing game lobbies.">IMatchmaking</a> interface.</p>
<p>Typically you will set appropriate filters by calling e.g. <a class="el" href="classgalaxy_1_1api_1_1IMatchmaking.html#a04440a136415d4c6f5272c9cca52b56e" title="Adds a string filter to be applied next time you call RequestLobbyList().">IMatchmaking::AddRequestLobbyListStringFilter()</a> or <a class="el" href="classgalaxy_1_1api_1_1IMatchmaking.html#a3fd3d34a2cccaf9bfe237418ab368329" title="Adds a numerical filter to be applied next time you call RequestLobbyList().">IMatchmaking::AddRequestLobbyListNumericalFilter()</a>, then retrieve the list of available lobbies by calling <a class="el" href="classgalaxy_1_1api_1_1IMatchmaking.html#a3968e89f7989f0271c795bde7f894cd5" title="Performs a request for a list of relevant lobbies.">IMatchmaking::RequestLobbyList()</a>, and than make the user join one of the lobbies by calling <a class="el" href="classgalaxy_1_1api_1_1IMatchmaking.html#a809b3d5508a63bd183bcd72682ce7113" title="Joins a specified existing lobby.">IMatchmaking::JoinLobby()</a>. Alternatively the user might want to create a lobby, in which case you will need to call <a class="el" href="classgalaxy_1_1api_1_1IMatchmaking.html#a092de26b8b91e450552a12494dce4644" title="Creates a lobby.">IMatchmaking::CreateLobby()</a>.</p>
<h1><a class="anchor" id="lobbies"></a>
Lobbies</h1>
<p>Users need to stay present in the lobby for the whole match, until it ends.</p>
<p>When the user is the owner of a lobby, its Galaxy Peer needs to act as the game host.</p>
<h2><a class="anchor" id="lobbies-messaging"></a>
Messaging</h2>
<p>You can broadcast messages to all Galaxy Peers in the lobby by calling <a class="el" href="classgalaxy_1_1api_1_1IMatchmaking.html#a61228fc0b2683c365e3993b251814ac5" title="Sends a message to all lobby members, including the sender.">IMatchmaking::SendLobbyMessage()</a>. Each recipient should be registered for notifications about incoming messages with dedicated listener, and on the occurrence of such notification call <a class="el" href="classgalaxy_1_1api_1_1IMatchmaking.html#a372290fa1405296bae96afe7476e1147" title="Receives a specified message from one of the members of a specified lobby.">IMatchmaking::GetLobbyMessage()</a>.</p>
<h1><a class="anchor" id="networking"></a>
P2P networking</h1>
<p>You can communicate with other Galaxy Peers that are in the same lobby using the <a class="el" href="classgalaxy_1_1api_1_1INetworking.html" title="The interface for communicating with other Galaxy Peers.">INetworking</a> interface. This way of communication is meant to be used for sending data that is directed to certain Galaxy Peers, especially for sending large amount of date in case of audio and video communication. Use it also for sending any other game data that is not crucial, yet needs to be delivered quickly.</p>
<h2><a class="anchor" id="networking-sending"></a>
Sending P2P packets</h2>
<p>To send a P2P packet call <a class="el" href="classgalaxy_1_1api_1_1INetworking.html#a1fa6f25d0cbd7337ffacea9ffc9032ad" title="Sends a P2P packet to a specified user.">INetworking::SendP2PPacket()</a>.</p>
<p>You can send packets to specific users by explicitly providing their IDs, or implicitly to the lobby owner (game host) by providing the ID of the lobby as the recipient.</p>
<h2><a class="anchor" id="networking-receiving"></a>
Receiving P2P packets</h2>
<p>To receive the packets that come to your Galaxy Peer get the instance of <a class="el" href="classgalaxy_1_1api_1_1INetworking.html" title="The interface for communicating with other Galaxy Peers.">INetworking</a> by calling GetNetworking().</p>
<h1><a class="anchor" id="game-server"></a>
Game Server</h1>
<p>The Game Server API allows for creating a lightweight dedicated servers, that does not require Galaxy Client installed.</p>
<p>For the detailed description of the Game Server interfaces refer to the <a class="el" href="group__GameServer.html">GameServer</a>.</p>
<h1><a class="anchor" id="statistics"></a>
Statistics, achievements and leaderboards</h1>
<p>The Galaxy API allows you to store information about statistic counters and unlocked achievements using the <a class="el" href="classgalaxy_1_1api_1_1IStats.html" title="The interface for managing statistics, achievements and leaderboards.">IStats</a> interface.</p>
<p>You can retrieve statistics and achievements of the user who is currently signed in, or other user that he interacts with, by calling <a class="el" href="classgalaxy_1_1api_1_1IStats.html#a38f5c146772f06dfd58c21ca599d7c25" title="Performs a request for statistics and achievements of a specified user.">IStats::RequestUserStatsAndAchievements()</a>.</p>
<p>Having retrieved statistics and achievement of your user, you can both read and update them. After making edits to statistics and achievements you will need to store them by calling <a class="el" href="classgalaxy_1_1api_1_1IStats.html#a0e7f8f26b1825f6ccfb4dc26482b97ee" title="Persists all changes in statistics and achievements.">IStats::StoreStatsAndAchievements()</a>.</p>
<p>You can retrieve leaderboards by calling <a class="el" href="classgalaxy_1_1api_1_1IStats.html#a7290943ee81882d006239f103d523a1d" title="Performs a request for definitions of leaderboards.">IStats::RequestLeaderboards()</a>.</p>
<p>Having retrieved leaderboard definitions you can change user's score by using <a class="el" href="classgalaxy_1_1api_1_1IStats.html#a95d5043fc61c941d882f0773225ace35" title="Updates entry for own user in a specified leaderboard.">IStats::SetLeaderboardScore()</a> and retrieve leaderboard entries with scores and ranks of competing users by calling <a class="el" href="classgalaxy_1_1api_1_1IStats.html#a8001acf6133977206aae970b04e82433" title="Performs a request for entries of a specified leaderboard in a global scope, i.e.">IStats::RequestLeaderboardEntriesGlobal()</a>, <a class="el" href="classgalaxy_1_1api_1_1IStats.html#a1215ca0927c038ed5380d23d1825d92d" title="Performs a request for entries of a specified leaderboard for and near the specified user.">IStats::RequestLeaderboardEntriesAroundUser()</a>, or <a class="el" href="classgalaxy_1_1api_1_1IStats.html#ac06a171edf21bb4b2b1b73db0d3ba994" title="Performs a request for entries of a specified leaderboard for specified users.">IStats::RequestLeaderboardEntriesForUsers()</a>.</p>
<h1><a class="anchor" id="friends"></a>
Friends</h1>
<p>The Galaxy API allows you to download the list of your friends by calling <a class="el" href="classgalaxy_1_1api_1_1IFriends.html#aa648d323f3f798bbadd745bea13fc3b5" title="Performs a request for the user&#39;s list of friends.">IFriends::RequestFriendList()</a>.</p>
<p>Having retrieved the friend list you can browse it by calling <a class="el" href="classgalaxy_1_1api_1_1IFriends.html#a8c7db81fe693c4fb8ed9bf1420393cbb" title="Returns the number of retrieved friends in the user&#39;s list of friends.">IFriends::GetFriendCount()</a> and <a class="el" href="classgalaxy_1_1api_1_1IFriends.html#a07746daaec828d1d9f1e67e4ff00a02d" title="Returns the GalaxyID for a friend.">IFriends::GetFriendByIndex()</a>.</p>
<p>The Galaxy API allows you to browse information about other users.</p>
<p>You can retrieve information about a specific user by calling <a class="el" href="classgalaxy_1_1api_1_1IFriends.html#a4692fc9d422740da258c351a2b709526" title="Performs a request for information about specified user.">IFriends::RequestUserInformation()</a>.</p>
<p>Having retrieved other user information you can read it by calling <a class="el" href="classgalaxy_1_1api_1_1IFriends.html#aae6d3e6af5bde578b04379cf324b30c5" title="Returns the nickname of a specified user.">IFriends::GetFriendPersonaName()</a> and <a class="el" href="classgalaxy_1_1api_1_1IFriends.html#a4fe15f4be55cf030e12018134a281591" title="Returns the URL of the avatar of a specified user.">IFriends::GetFriendAvatarUrl()</a>.</p>
<p>Some operations, e.g. entering a lobby or requesting for the friend list, automatically retrieve information about lobby members or friends accordingly.</p>
<h2><a class="anchor" id="invites"></a>
Inviting friends</h2>
<p>The Galaxy API allows you to invite your friends to play together by calling <a class="el" href="classgalaxy_1_1api_1_1IFriends.html#ae589d534ed8846319e3a4d2f72d3c51a" title="Shows game invitation dialog that allows to invite users to game.">IFriends::ShowOverlayInviteDialog()</a>. This require the connectionString which will allow other users to join your game.</p>
<p>Typically the connectionString looks like "-connect-lobby-&lt;id&gt;".</p>
<p>After the invitation receiver gets the notification, he can click the JOIN button, which will fire <a class="el" href="classgalaxy_1_1api_1_1IGameJoinRequestedListener.html" title="Event of requesting a game join by user.">IGameJoinRequestedListener</a> with connectionString, or will start the game with connectionString as a parameter.</p>
<h2><a class="anchor" id="rich-presence"></a>
RichPresence</h2>
<p>The Galaxy API allows you to set the RichPresence "status" and "connect" keys. "status" key will be visible to your friends inside the Galaxy Client chat and friend list. "connect" key will be visible to your friends as a JOIN button, which works exactly the same way as like the player would receive the game invitation.</p>
<h1><a class="anchor" id="chat"></a>
Chat</h1>
<p>The Galaxy API allows to embed the GOG Galaxy chat, available for the GOG users on the <a href="https://www.gog.com/account/chat">website</a>, in the GOG Galaxy Client and in the in-game overlay, directly into the game.</p>
<h2><a class="anchor" id="chat-room"></a>
Chat room</h2>
<p>A chat room with a user can be created explicitly by calling <a class="el" href="classgalaxy_1_1api_1_1IChat.html#a1c71546d2f33533cb9f24a9d29764b60" title="Creates new, or retrieves already existing one-on-one chat room with a specified user.">IChat::RequestChatRoomWithUser()</a>, or implicitly by new messages incoming to the <a class="el" href="classgalaxy_1_1api_1_1IChatRoomMessagesListener.html#ab440a4f2f41c573c8debdf71de088c2a" title="Notification for the event of receiving chat room messages.">IChatRoomMessagesListener::OnChatRoomMessagesReceived()</a> callback listener. In this chat room, you can get the number of unread messages, by calling <a class="el" href="classgalaxy_1_1api_1_1IChat.html#ae29c115c1f262e6386ee76c46371b94b" title="Returns the number of unread messages in a specified chat room.">IChat::GetChatRoomUnreadMessageCount()</a>, or iterate over chat room participants by calling <a class="el" href="classgalaxy_1_1api_1_1IChat.html#a6a8716d44283234878d810d075b2bc09" title="Returns the GalaxyID of a user in a specified chat room.">IChat::GetChatRoomMemberUserIDByIndex()</a>, up to the <a class="el" href="classgalaxy_1_1api_1_1IChat.html#a251ddea16a64be7461e6d5de78a4ad63" title="Returns the number of users in a specified chat room.">IChat::GetChatRoomMemberCount()</a> participants.</p>
<h2><a class="anchor" id="chat-history"></a>
Chat history</h2>
<p>If you need to retrieve the chat room history, call <a class="el" href="classgalaxy_1_1api_1_1IChat.html#acad827245bab28f694508420c6363a1f" title="Retrieves historical messages in a specified chat room.">IChat::RequestChatRoomMessages()</a> method. By omitting the optional parameter <code>referenceMessageID</code>, only the latest messages will be retrieved. Retrieved messages will be available in the <a class="el" href="classgalaxy_1_1api_1_1IChatRoomMessagesListener.html#ab440a4f2f41c573c8debdf71de088c2a" title="Notification for the event of receiving chat room messages.">IChatRoomMessagesListener::OnChatRoomMessagesReceived()</a> call, during which they can be read by calling <a class="el" href="classgalaxy_1_1api_1_1IChat.html#ae8d32143755d50f5a0738287bce697f9" title="Reads an incoming chat room message by index.">IChat::GetChatRoomMessageByIndex()</a>. Once all messages has been processed and rendered to the user, they can be marked as read by calling the <a class="el" href="classgalaxy_1_1api_1_1IChat.html#a1b8ef66f124412d9fef6e8c4b1ee86c3" title="Marks a specified chat room as read.">IChat::MarkChatRoomAsRead()</a> method.</p>
<h2><a class="anchor" id="chat-messaging"></a>
Sending and receiving chat messages</h2>
<p>Sending messages is possible only to the existing (see above) chat rooms by calling <a class="el" href="classgalaxy_1_1api_1_1IChat.html#a11cff02f62369b026fd7802bdeb9aca1" title="Sends a message to a chat room.">IChat::SendChatRoomMessage()</a>. Every participant of a chat room will receive messages coming to the <a class="el" href="classgalaxy_1_1api_1_1IChatRoomMessagesListener.html#ab440a4f2f41c573c8debdf71de088c2a" title="Notification for the event of receiving chat room messages.">IChatRoomMessagesListener::OnChatRoomMessagesReceived()</a> callback method.</p>
<h1><a class="anchor" id="storage"></a>
Storage</h1>
<p>The Galaxy API allows you to store files in Galaxy's backend services. The files are automatically synchronized by the Galaxy Client application.</p>
<h2><a class="anchor" id="automatic-cloud-saves-syncing"></a>
Automatic Cloud Saves syncing</h2>
<p>The easiest way to add Cloud Saves functionality to your game is to use the Automatic Cloud Saves syncing mechanism. In this solution GOG Galaxy only needs to know the path, where the save games are stored and will handle sync between the local folder and cloud storage automatically. The sync is performed before the game is launched, after the game quits, after the installation and before the uninstallation. To enable Automatic Cloud Saves syncing contact your Product Manager.</p>
<h2><a class="anchor" id="cloud-storage-direct-access"></a>
Cloud Storage direct access</h2>
<p>If your game requires more complex managing of local and remote files or you don't want to interact with the file system directly you can use the <a class="el" href="classgalaxy_1_1api_1_1IStorage.html" title="The interface for managing of cloud storage files.">IStorage</a> interface. It provides the abstraction over the file system (read/write/delete files and the metadata). You can also share the files created this way with other gog users. The folder will be synchronized automatically like mentioned in the previous section.</p>
<h1><a class="anchor" id="dlc-discovery"></a>
DLC discovery</h1>
<p>There is an easy way of checking if a DLC has been installed by calling <a class="el" href="classgalaxy_1_1api_1_1IApps.html#a46fbdec6ec2e1b6d1a1625ba157d3aa2" title="Checks if specified DLC is installed.">IApps::IsDlcInstalled()</a> with the Product ID of the particular DLC. This feature does not require the user to be online, or Galaxy Client to be installed, or even Galaxy API to be fully initialized, however you still need to call <a class="el" href="group__Peer.html#ga7d13610789657b6aebe0ba0aa542196f" title="Initializes the Galaxy Peer with specified credentials.">Init()</a> first.</p>
<h1><a class="anchor" id="language"></a>
Game language</h1>
<p>There is an easy way of retrieving game or DLC language by calling <a class="el" href="classgalaxy_1_1api_1_1IApps.html#a3f9c65577ba3ce08f9addb81245fa305" title="Returns current game language for given product ID.">IApps::GetCurrentGameLanguage()</a> with the Product ID of the game (0 can be used to retrieve base game language) or particular DLC. This feature does not require the user to be online, or Galaxy Client to be installed, or even Galaxy API to be fully initialized, however you still need to call <a class="el" href="group__Peer.html#ga7d13610789657b6aebe0ba0aa542196f" title="Initializes the Galaxy Peer with specified credentials.">Init()</a> first.</p>
<h1><a class="anchor" id="thread-safety"></a>
Thread-safety</h1>
<p>The Galaxy API is thread-safe in general, however there are some methods that return pointers and therefore cannot be used in multi-threaded environments. In order to address the issue the similar methods of names with a suffix of "Copy" were introduced, e.g. compare <a class="el" href="classgalaxy_1_1api_1_1IFriends.html#a3341601932e0f6e14874bb9312c09c1a" title="Returns the user&#39;s nickname.">IFriends::GetPersonaName()</a> and <a class="el" href="classgalaxy_1_1api_1_1IFriends.html#adfe6d1abdf9dabc36bc01714cbdf98b4" title="Copies the user&#39;s nickname to a buffer.">IFriends::GetPersonaNameCopy()</a>. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed Oct 14 2020 11:40:30 for GOG Galaxy by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.15 </li>
  </ul>
</div>
</body>
</html>
